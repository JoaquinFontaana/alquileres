<div class="carousel-container" (mouseenter)="stopAutoPlay()" (mouseleave)="startAutoPlay()">
  
  @if (vehicles().length > 0) {
    <div class="carousel">
      <button 
        class="carousel-button prev" 
        (click)="previous()"
        aria-label="Vehículo anterior"
      >
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="15 18 9 12 15 6"></polyline>
        </svg>
      </button>

      <div class="carousel-track">
        <div class="carousel-slides">
          @for (vehicle of visibleVehicles(); track vehicle.patente) {
            <div class="carousel-slide">
              <app-vehicle-card 
                [vehicle]="vehicle" 
                [actions]="vehicleActions()"
              />
            </div>
          }
        </div>
      </div>

      <button 
        class="carousel-button next" 
        (click)="next()"
        aria-label="Siguiente vehículo"
      >
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </button>
    </div>

    <!-- Indicadores -->
    <div class="carousel-indicators">
      @for (vehicle of vehicles(); track vehicle.patente; let i = $index) {
        <button 
          class="indicator"
          [class.active]="currentIndex() === i"
          (click)="goToSlide(i)"
          [attr.aria-label]="'Ir a vehículo ' + (i + 1)"
        ></button>
      }
    </div>
  } @else {
    <div class="no-vehicles">
      <p>No hay vehículos disponibles</p>
    </div>
  }

</div>
