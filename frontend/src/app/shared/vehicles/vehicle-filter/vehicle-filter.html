@let sucursales = sucursalStore.listaCiudades();
@let categorias = vehicleStore.categorias();
@let estados = vehicleStore.estados();

<div class="vehicle-filter-container">
  <form [formGroup]="form" class="filter-form">

    <app-input-select [options]="sucursales" [control]="form.controls.nombreSucursal" placeHolder="All" label="Sucursal"/>

    <app-input-select label="CategorÃ­a" [control]="form.controls.categorias" [options]="categorias" placeHolder="All"/>

    @if(authStore.hasRole("ADMIN") && authStore.isAuthenticated()){
      <app-input-select label="Estado" [control]="form.controls.estados" [options]="estados" placeHolder="All"/>
    }

    <app-date-range-picker 
      [fechaFin]="form.controls.fechaHasta" 
      [fechaInicio]="form.controls.fechaDesde"
      [formGroup]="form"/>

    <div class="form-actions">
      <app-button 
        label="Aplicar Filtros"
        (action)="applyFilters()"
        class="filter-button"
      />
      <app-button 
        label="Limpiar"
        (action)="clearFilters()"
        class="clear-button"
      />
    </div>
  </form>
      @if (errorMessage()) {
      <div class="error-message">
        {{ errorMessage() }}
      </div>
    }
</div>
