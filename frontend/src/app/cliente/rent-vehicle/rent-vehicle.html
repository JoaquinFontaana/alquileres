<h1 class="title">Confirmación de Alquiler</h1>
<div class="rent-vehicle-container">
  @if (vehicle(); as vehiculo) {
    <div class="payment-card">
      <h2>Detalles del Alquiler</h2>
      
      <div class="card-content">
        <div class="vehicle-section">
          <app-vehicle-card 
            [vehicle]="vehiculo()" 
            [actions]="[]"
          />
        </div>
        
        <div class="info-section">
          <div class="rental-info">
            <div class="detail-row">
              <span class="label">Fecha de Inicio:</span>
              <span class="value">{{ fechaInicio() }}</span>
            </div>
            <div class="detail-row">
              <span class="label">Fecha de Fin:</span>
              <span class="value">{{ fechaFin() }}</span>
            </div>
            <div class="detail-row">
              <span class="label">Duración:</span>
              <span class="value">{{ rangoFechas().cantidadDias() }} días</span>
            </div>
            <div class="detail-row">
              <span class="label">Sucursal:</span>
              <span class="value">{{vehiculo().sucursal}}</span>
            </div>
          </div>
          
          <div class="total-section">
            <div class="total-row">
              <span class="label">Total a Pagar:</span>
              <span class="value">${{ precioTotal() }}</span>
            </div>
          </div>
        </div>
      </div>
      
      @if (disponible() === false) {
        <div class="warning-message">
          <p>⚠️ Este vehículo no está disponible para las fechas seleccionadas.</p>
          <p>Por favor, selecciona otro rango de fechas o elige un vehículo diferente.</p>
        </div>
      }
      
      @if (disponible() === null) {
        <div class="loading-message">
          <p>Verificando disponibilidad...</p>
        </div>
      }
      
      <div class="actions">
        <app-button 
          label="Cancelar"
          (action)="goBack()"
          class="cancel-button"
        />
        <app-button 
          label="Pagar"
          (action)="proceedToPayment()"
          [disabled]="!disponible()"
          class="confirm-button"
        />
      </div>
    </div>
  } @else {
    <div class="error-message">
      <p>No se pudo cargar la información del vehículo.</p>
    </div>
  }
</div>
